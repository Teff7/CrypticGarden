<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily 5×5 Cryptic</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Hidden input to capture mobile keystrokes -->
  <input id="mobileInput" inputmode="text" maxlength="1" autocomplete="off" autocapitalize="characters"
         style="opacity:0; position:absolute; left:-10000px;" />

  <!-- Game (loads immediately; no welcome screen) -->
  <section id="game" class="game-screen">
    <!-- TOP: centered date (menu removed) -->
    <div class="top-bar">
      <div class="top-center">
        <label for="puzzleSelect" class="visually-hidden">Choose a crossword</label>
        <select id="puzzleSelect" class="puzzle-select" disabled>
          <option>Loading…</option>
        </select>
        <div id="puzzleDate" class="date">Loading crosswords…</div>
      </div>
    </div>

    <!-- Grid -->
    <div id="grid" class="grid" role="application" aria-label="5 by 5 crossword grid"></div>

    <!-- Clues + controls -->
    <div id="clueSection" class="clue-section">
      <div id="cluePanel" class="clue-panel">
        <div id="clueHeader" class="clue-header">—</div>
        <div id="clueText" class="clue"></div>
      </div>

      <!-- BOTTOM: centered gameplay buttons -->
      <div class="bottom-actions">
        <div class="dropdown" id="hintDropdown">
          <button class="help-button small" id="btnHints" aria-haspopup="true" aria-expanded="false">Hints ▾</button>
          <div class="menu" id="hintMenu" role="menu" aria-hidden="true">
            <button class="menu-item" id="hintDef" role="menuitem">Definition</button>
            <button class="menu-item" id="hintLetter" role="menuitem">Reveal a letter</button>
            <button class="menu-item" id="hintWordplay" role="menuitem">Reveal the trick</button>
          </div>
        </div>

        <button class="help-button small" id="btnGiveUp" title="Reveal this entry">Reveal answer</button>
        <button class="help-button small" id="btnHelpBottom">Help</button>
      </div>
    </div>

    <div id="mobileKeyboard" class="mobile-keyboard" hidden aria-hidden="true"></div>
  </section>

  <!-- Help modal -->
  <div id="helpModal" class="modal" hidden>
    <div class="modal-card">
      <button class="modal-close" id="helpClose" aria-label="Close">×</button>
      <h2>How cryptic crosswords work (and how this game teaches them)</h2>
      <div class="help-body">
        <p><strong>Each clue has two halves.</strong> The <em>definition</em> gives the plain meaning of the answer, while the <em>wordplay</em> tells you how to build it (for example, by using an anagram, a container, or a hidden word).</p>
        <p><strong>Use the Hints menu if you’re learning.</strong> “Definition” highlights the definition part, “Reveal a letter” fills a random empty cell in the entry, and “Reveal the trick” colours and tool-tips the indicator and fodder.</p>
        <p><strong>Basic controls.</strong> Click a numbered square to switch between Across and Down on that start square. Type to move the cursor forward; Backspace moves it back. When an entry is correct, it locks in. “Reveal answer” will fill it.</p>
        <p><strong>Ready to try building clues yourself?</strong> Keep these common devices and sample clues in mind while you solve.</p>
        <p><strong>Anagram.</strong> Letters are mixed to form the answer. Look for signals like broken, drunk, mixed, wild. <em>Example: Inebriated pirates travel about (7) → TRAIPSE (anagram of PIRATES).</em></p>
        <p><strong>Reversal.</strong> Read letters backwards. Common signals: returned, rising, back, up. <em>Example: Spies bring silverware back (6) → SNOOPS (SPOONS reversed).</em></p>
        <p><strong>Container (Insertion).</strong> One word goes inside another. Indicators include in, around, holding. Sometimes the clue also tells you to reverse the container or contents first. <em>Example: Uncovered calf in grass (8) → REVEALED (VEAL inside REED).</em></p>
        <p><strong>Hidden Word.</strong> The answer is hidden inside the clue. Indicators include in part, within, concealed, and sometimes they’re paired with a reversal signal. <em>Example: A long time in a dungeon (3) → EON (hidden in “dungEON”).</em></p>
        <p><strong>Charade.</strong> Parts are placed side by side to make the answer. <em>Example: Outlaw leader managing money (7) → BANKING (BAN + KING).</em></p>
        <p><strong>Acrostic (Initials/Finals).</strong> Take the first or last letters. Indicators include initially, at first, finally. <em>Example: At first, Actor Needing New Identity Emulates Orphan (5) → ANNIE (initial letters).</em></p>
        <p><strong>Double Definition.</strong> Two distinct meanings point to one word. <em>Example: Cover for the head / gangster (4) → HOOD.</em></p>
        <p><strong>Homophone.</strong> Sounds like another word. Indicators include heard, we’re told, reportedly. <em>Example: The king has no successor, we hear (4) → BALD (sounds like “no heir”).</em></p>
        <p><strong>Deletion.</strong> Letters are removed. Indicators include endless, heartless, beheaded, topless. <em>Example: Bird is cowardly, about to fly away (5) → RAVEN (CRAVEN minus C).</em></p>
        <p><strong>&amp;lit (All-in-One / Literally).</strong> The whole clue serves as both definition and wordplay. <em>Example: Leaders of Iranian mosques and Muslim sects! (5) → IMAMS (first letters; the full clue defines it too).</em></p>
      </div>
    </div>
  </div>

  <!-- Completion/share modal -->
  <div id="shareModal" class="modal" hidden>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="shareHeading">
      <button class="modal-close" id="shareClose" aria-label="Close">×</button>
      <h2 id="shareHeading">Mīharo!</h2>
      <p>You beat the cryptic crossword. Awesome Work!</p>
      <div id="shareGrid" class="share-grid" aria-label="Result grid"></div>
      <button class="help-button small" id="copyResult">Copy result</button>
      <a class="help-button small" href="https://cryptic-garden.vercel.app/" target="_blank" rel="noopener">cryptic-garden.vercel.app</a>
    </div>
  </div>

  <div id="copyToast" class="toast" hidden>Copied</div>

  <div id="fireworks" class="fireworks" aria-hidden="true"></div>

  <!-- Bust browser cache by adding a version query string -->
  <script src="script.js"></script>
</body>
</html>
